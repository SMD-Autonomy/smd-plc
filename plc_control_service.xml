<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://community.rti.com/schema/7.3.0/rti_dds_opcua_service.xsd">
  <types>
        <struct name="LampControlType" nested="true">
            <member name="intensity" type="float32"/>
            <member name="power" type="int16"/>
        </struct>

        <struct name="CameraControlType" nested="true">
            <member name="focus_far" type="int16"/>
            <member name="focus_near" type="int16"/>
            <member name="LED" type="int16"/>
            <member name="power" type="int16"/>
            <member name="zoom_in" type="int16"/>
            <member name="zoom_out" type="int16"/>
        </struct>

        <struct name="PanAndTiltControlType" nested="true">
            <member name="pan_left" type="int16"/>
            <member name="pan_right" type="int16"/>
            <member name="power" type="int16"/>
            <member name="tilt_down" type="int16"/>
            <member name="tilt_up" type="int16"/>
        </struct>
  </types>

  <ddsopcua_service name="PLCcontrolService">

    <opcua_connection name="PLCServerConnection" server_endpoint_url="opc.tcp://192.168.1.1:4840">
      <timeout>5000</timeout>
    </opcua_connection>

    <domain_participant name="PLCDomainParticipant" domain_id="6">
      <register_type name="CameraControl" type_ref="CameraControlType"/>  
      <register_type name="LampControl" type_ref="LampControlType"/>   
      <register_type name="PanAndTiltControl" type_ref="PanAndTiltControlType"/>
    </domain_participant>

    <opcua_to_dds_bridge name="PLCControlBridge">
      <service_set opcua_connection_ref="PLCServerConnection" domain_participant_ref="PLCDomainParticipant">

        <!-- Enable the Attribute Service Set that allows remote applications to perform Read/Write operations through the OPC UA/DDS Gateway. -->
        <attribute_service_set>
          <enabled>false</enabled>
        </attribute_service_set>
      </service_set>

      <publication name="CameraControlPublicationOne">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>CameraControlTopic</topic_name>
          <registered_type_name>CameraControl</registered_type_name>
        </dds_input>

        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
           <node_attribute dds_topic_field_name="LED">
              <node_id>
                <namespace_index>6</namespace_index>
                <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Camera_Control.LED_CMD</string_identifier>
              </node_id>
              <attribute_id>VALUE</attribute_id>
            </node_attribute>
        
           <node_attribute dds_topic_field_name="power">
              <node_id>
                <namespace_index>6</namespace_index>
                <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Camera_Control.Power_CMD</string_identifier>
              </node_id>
              <attribute_id>VALUE</attribute_id>
            </node_attribute>
        
           <node_attribute dds_topic_field_name="zoom_in">
              <node_id>
                <namespace_index>6</namespace_index>
                <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Camera_Control.Zoom_In_CMD</string_identifier>
              </node_id>
              <attribute_id>VALUE</attribute_id>
            </node_attribute>

           <node_attribute dds_topic_field_name="zoom_out">
              <node_id>
                <namespace_index>6</namespace_index>
                <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Camera_Control.Zoom_Out_CMD</string_identifier>
              </node_id>
              <attribute_id>VALUE</attribute_id>
            </node_attribute>

           <node_attribute dds_topic_field_name="focus_far">
              <node_id>
                <namespace_index>6</namespace_index>
                <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Camera_Control.Focus_Far_CMD</string_identifier>
              </node_id>
              <attribute_id>VALUE</attribute_id>
            </node_attribute>

           <node_attribute dds_topic_field_name="focus_near">
              <node_id>
                <namespace_index>6</namespace_index>
                <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Camera_Control.Focus_Near_CMD</string_identifier>
              </node_id>
              <attribute_id>VALUE</attribute_id>
            </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationZero">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_0">
              <filter>lampID = 0</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[0]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationOne">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_1">
              <filter>lampID = 1</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[1]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationTwo">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_2">
              <filter>lampID = 2</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[2]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationThree">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_3">
              <filter>lampID = 3</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[3]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationFour">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_4">
              <filter>lampID = 4</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[4]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationFive">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_5">
              <filter>lampID = 5</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[5]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationSix">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_6">
              <filter>lampID = 6</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[6]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationSeven">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_7">
              <filter>lampID = 7</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[7]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationEight">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_8">
              <filter>lampID = 8</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[8]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationNine">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_9">
              <filter>lampID = 9</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[9]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationTen">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_10">
              <filter>lampID = 10</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[10]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationEleven">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_11">
              <filter>lampID = 11</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[11]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationTwelve">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_12">
              <filter>lampID = 12</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[12]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationThirteen">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_13">
              <filter>lampID = 13</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[13]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampIntensityPublicationFourteen">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_14">
              <filter>lampID = 14</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[14]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>
      
      <publication name="LampIntensityPublicationFifteen">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
          <sample_selectors>
            <selector name="Lamp_ID_15">
              <filter>lampID = 15</filter>
            </selector>
          </sample_selectors>
        </dds_input>
        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="intensity">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Intensity.Intensity[15]</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="LampPowerPublication">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>LampControlTopic</topic_name>
          <registered_type_name>LampControl</registered_type_name>
        </dds_input>

        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
          <node_attribute dds_topic_field_name="power">
            <node_id>
              <namespace_index>6</namespace_index>
              <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_Lamp_Control.Power_CMD</string_identifier>
            </node_id>
            <attribute_id>VALUE</attribute_id>
          </node_attribute>
        </opcua_output>
      </publication>

      <publication name="PanAndTiltControlPublicationOne">
        <dds_input name="PLCDDSInput" domain_participant_ref="PLCDomainParticipant">
          <topic_name>PanAndTiltControlTopic</topic_name>
          <registered_type_name>PanAndTiltControl</registered_type_name>
        </dds_input>

        <opcua_output name="PLCOPCOutput" opcua_connection_ref="PLCServerConnection">
           <node_attribute dds_topic_field_name="tilt_up">
              <node_id>
                <namespace_index>6</namespace_index>
                <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_PanTilt_Control.Tilt_Up_CMD</string_identifier>
              </node_id>
              <attribute_id>VALUE</attribute_id>
            </node_attribute>
       
           <node_attribute dds_topic_field_name="tilt_down">
              <node_id>
                <namespace_index>6</namespace_index>
                <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_PanTilt_Control.Tilt_Down_CMD</string_identifier>
              </node_id>
              <attribute_id>VALUE</attribute_id>
            </node_attribute>
        
           <node_attribute dds_topic_field_name="pan_right">
              <node_id>
                <namespace_index>6</namespace_index>
                <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_PanTilt_Control.Pan_Right_CMD</string_identifier>
              </node_id>
              <attribute_id>VALUE</attribute_id>
            </node_attribute>
        
           <node_attribute dds_topic_field_name="pan_left">
              <node_id>
                <namespace_index>6</namespace_index>
                <string_identifier>Root.Objects.00, ControlLogix 5580 Controller, SB_MDC_AQ_EROV.Adv_Control.Adv_Control[2].ROV.IO_PanTilt_Control.Pan_Left_CMD</string_identifier>
              </node_id>
              <attribute_id>VALUE</attribute_id>
            </node_attribute>
        </opcua_output>
      </publication>

    </opcua_to_dds_bridge>
  </ddsopcua_service>
</dds>
